@model IEnumerable<Mantex.ERP.Data.Transaction>
<table class="table table-hover">
    <tbody>
        @foreach (var transaction in Model)
        {
            <tr class="@RowClassFor(transaction.Id)">
                <td>@SuffixOf(transaction.Id)</td>
                <td>@transaction.ShippingMethod</td>
                <td>@transaction.Supplier</td>
                <td>@transaction.Name</td>
            </tr>
        }
    </tbody>
</table>
@functions{
    string SuffixOf(string Id)
    {
        var index = Id.LastIndexOf('-') + 1;
        var suffix = Id.Substring(index);
        return suffix;
    }
    string RowClassFor(string Id)
    {
        var activeTransactionId = (string)ViewBag.ActiveTransactionId;
        if (Id == activeTransactionId)
            return "active";
        return null;
    }
}